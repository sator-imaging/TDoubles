> [!WARNING]
> The following document was generated by AI and HAS NOT YET reviewed.





# Diagnostic Error Codes

TDoubles generator provides detailed diagnostic messages for common configuration issues:


## MOCK001 - Mock class must be partial

**Message:** "The class '{0}' decorated with [Mock] attribute must be declared as partial"

**Cause:** The mock class is not declared with the `partial` keyword.

**Solution:**
```csharp
// ❌ Incorrect
[Mock(typeof(IService))]
class ServiceMock { }

// ✅ Correct
[Mock(typeof(IService))]
partial class ServiceMock { }
```


## MOCK002 - Invalid generic type argument count

**Message:** "The mock class '{0}' must have {1} generic type arguments to match target type '{2}'"

**Cause:** The number of generic type parameters on the mock class doesn't match the target type.

**Solution:**
```csharp
// ❌ Incorrect - target has 1 parameter, mock has 0
[Mock(typeof(GenericService<>))]
partial class GenericServiceMock { }

// ✅ Correct - both have 1 parameter
[Mock(typeof(GenericService<>))]
partial class GenericServiceMock<T> { }
```


## MOCK003 - Invalid Mock attribute usage

**Message:** "The [Mock] attribute on class '{0}' must specify a target type using typeof(TargetType)"

**Cause:** The Mock attribute is missing the required `typeof()` parameter.

**Solution:**
```csharp
// ❌ Incorrect - missing target type
[Mock]
partial class ServiceMock { }

// ✅ Correct - includes target type
[Mock(typeof(IService))]
partial class ServiceMock { }
```


## MOCK004 - Circular mock dependency detected

**Message:** "Circular dependency detected in mock generation for type '{0}'. Mock types cannot reference each other in a circular manner."

**Cause:** Two or more mock types reference each other, creating a circular dependency.

**Solution:** Redesign the mock structure to avoid circular references, or use composition instead of inheritance.


## MOCK005 - Invalid mock target type

**Message:** "The target type '{0}' specified in [Mock] attribute is not supported for mocking. Supported types are classes, structs, interfaces, records, and record structs."

**Cause:** The target type is not supported for mocking (e.g., enum, delegate, primitive type).

**Solution:** Only use supported target types (classes, structs, interfaces, records, record structs).
